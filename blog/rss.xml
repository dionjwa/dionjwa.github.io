<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Resume: Dion Whitehead Blog</title>
        <link>https://evolvedeeptimecomplex.systems/blog</link>
        <description>Resume: Dion Whitehead Blog</description>
        <lastBuildDate>Wed, 12 Apr 2023 01:52:47 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Cloud Compute Cannon]]></title>
            <link>https://evolvedeeptimecomplex.systems/blog/cloud-compute-cannon</link>
            <guid>https://evolvedeeptimecomplex.systems/blog/cloud-compute-cannon</guid>
            <pubDate>Wed, 12 Apr 2023 01:52:47 GMT</pubDate>
            <description><![CDATA[This was in 2017 at Autodesk Bionano (→ Autodesk Lifesciences → shutdown), despite the date listed. This is more to record that I have been thinking and building on convenient, easy-access, standardized scalable compute for science for a while.]]></description>
            <content:encoded><![CDATA[<p>This was in 2017 at Autodesk Bionano (→ Autodesk Lifesciences → <code>shutdown</code>), despite the date listed. This is more to record that I have been thinking and building on convenient, easy-access, standardized scalable compute for science for a while.</p><p>Apart from the first paragraph, the rest is not applicable anymore, and the system is shelved.</p><blockquote><p>The <a href="http://bionano.autodesk.com/" target="_blank" rel="noopener noreferrer">Bionano research group</a> at Autodesk needed an open source tool for performing scalable computes (e.g. molecular simulations) in the cloud. The problem it solves is <em>"I want to run 1000 simulations and get the results quickly, and I don't have access to a high performance cluster (or I don't know how to use the cluster)"</em>. We built <a href="https://github.com/Autodesk/cloudcomputecannon/" target="_blank" rel="noopener noreferrer">cloud-compute-cannon</a> (CCC) for this. This blog describes some of the technology behind it.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_DZnE" id="9c785c4f6b12478e978456f62b685acb">Architecture and technical decisions<a href="#9c785c4f6b12478e978456f62b685acb" class="hash-link" aria-label="Direct link to Architecture and technical decisions" title="Direct link to Architecture and technical decisions">​</a></h3><p>Cloud-compute-cannon is a client/server application. The server is installed on the users cloud (or their local machine) and creates workers to perform compute jobs. The server needs to:</p><ul><li>Install locally and on cloud providers (e.g. AWS or GCE via their SDKs)</li><li>Interact with Docker daemons via the remote API</li><li>Interact with remote machines via SSH</li><li>Talk to a database (that stores state)</li><li>Interact with a thin CLI client</li><li>Potentially other, as yet unknown, requirements</li></ul><p>Instead of worker machines pulling jobs from a queue, CCC works by pushing jobs to workers. The disadvantage with this approach is that if the servers goes down, the system stops working. The advantage is that the workers are extremely dumb: they are just bare CoreOS machines with nothing extra installed. Node.js can easily monitor many many workers in case they go down. By making the workers dumb, there is a single place for upgrading the system (simplicity was a goal here).</p><p><img loading="lazy" src="/assets/images/743181975-781c9e1ed506f9ac547dcffa4db16ac9.png" width="598" height="357" class="img_Era8"></p><p>Node.js was a pretty easy choice for the server because of the large third party library support. Redis was chosen for the database because its simplicity and crucially, it had scripting support. Scripting means no concurrency issues as redis lua scripts block other requests.</p><p>The added advantage of Node.js was using the same codebase for the client and server.</p><p>However, instead of writing Javascript, it was built in Haxe.</p><h3 class="anchor anchorWithStickyNavbar_DZnE" id="29a6769c7e97428a9ac8af8ed423ea0f">What is <a href="https://haxe.org/#learn-more/" target="_blank" rel="noopener noreferrer">Haxe</a>?<a href="#29a6769c7e97428a9ac8af8ed423ea0f" class="hash-link" aria-label="Direct link to 29a6769c7e97428a9ac8af8ed423ea0f" title="Direct link to 29a6769c7e97428a9ac8af8ed423ea0f">​</a></h3><p><a href="https://haxe.org/#learn-more/" target="_blank" rel="noopener noreferrer">Haxe</a> is an open source language and toolkit. The language is inspired from Javascript and Actionscript (Flash). The Haxe toolkit has <em>multiple compilers</em>, meaning you write in one language, and you export directly to multiple languages:</p><p>Currently, Haxe compiles to the following targets:</p><p><img loading="lazy" alt="https://haxe.org/documentation/introduction/compiler-targets.html" src="/assets/images/850217860-e61e09655e7c5c226cb7da8f721254bd.png" width="1618" height="1334" class="img_Era8"></p><p>For this project though, we're using just the Javascript compiler. Why Haxe and not e.g. Coffeescript or Typescript (or plain Javascript)? A more detailed answer is provided by <a href="http://blog.onthewings.net/2015/08/05/typescript-vs-haxe/" target="_blank" rel="noopener noreferrer">Andy Li</a>, but in short: Haxe provides far more useful language features, and it is more mature, and has compile time type checking that is invaluable in large code-bases. It has the added bonus that we could build multiple clients in different languages (e.g. Python or native binaries) if needed (the server would be more difficult due to the reliance on third party libraries).</p><p>Although Haxe has many <a href="http://haxe.org/manual/lf.html" target="_blank" rel="noopener noreferrer">very useful language features</a>, the features most important to this project are:</p><h3 class="anchor anchorWithStickyNavbar_DZnE" id="efe9c56b642e42e3a9345cc92653e527">1) Compile time typing<a href="#efe9c56b642e42e3a9345cc92653e527" class="hash-link" aria-label="Direct link to 1) Compile time typing" title="Direct link to 1) Compile time typing">​</a></h3><p>Functions, collections, and variables are <em>typed</em>, and checked at compile time. For example, the compiler will prevent you from calling a function with an Int argument when it's expecting an array. For a large-ish codebase of a cloud application this is crucial, as it reduces the number of bugs that make it into functional testing (and functional testing scalable cloud applications is <em>very</em> time consuming).</p><p>Javascript code. Note you can call a function with whatever arguments you like:</p><div class="language-javascript codeBlockContainer_FztV theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_csCg"><pre tabindex="0" class="prism-code language-javascript codeBlock_Qvym thin-scrollbar"><code class="codeBlockLines_GHGP"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">constructor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">doAThing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">input</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">input</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> input </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//Somewhere else:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">doAThing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//This is correct</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> result2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">doAThing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"somestring"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//Legal, although bad.</span><br></span></code></pre><div class="buttonGroup_BQvU"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_quyK" aria-hidden="true"><svg class="copyButtonIcon_NfaR" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_UHcJ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In Haxe, you cannot compile with the last line. The compiler has caught a mistake the developer wrote.</p><div class="language-javascript codeBlockContainer_FztV theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_csCg"><pre tabindex="0" class="prism-code language-javascript codeBlock_Qvym thin-scrollbar"><code class="codeBlockLines_GHGP"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//Haxe</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Foo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">doAThing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter literal-property property" style="color:#36acaa">input</span><span class="token parameter"> </span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter maybe-class-name">Int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token known-class-name class-name">Array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Int</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">input</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> input </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Somewhere else:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">doAThing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//This is correct</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> result2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> foo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">doAThing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"somestring"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//Compile error!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_BQvU"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_quyK" aria-hidden="true"><svg class="copyButtonIcon_NfaR" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_UHcJ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_DZnE" id="856c6b2496904f3195522a9b7bd53c3d">2) Macros<a href="#856c6b2496904f3195522a9b7bd53c3d" class="hash-link" aria-label="Direct link to 2) Macros" title="Direct link to 2) Macros">​</a></h3><p>Haxe macros are incredibly powerful, and the full capabilities are beyond the scope of this blog post. For this project they automatically generate bindings between the CLI client and the server.</p><p>On the server, there are 'services' where the methods correspond to RPC (remote procedure calls), where the <strong>@rpc</strong> decorator marks it as a remote API endpoint:</p><div class="language-javascript codeBlockContainer_FztV theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_csCg"><pre tabindex="0" class="prism-code language-javascript codeBlock_Qvym thin-scrollbar"><code class="codeBlockLines_GHGP"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ServiceBatchCompute</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//Server method for an API endpoint:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @</span><span class="token function" style="color:#d73a49">rpc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">alias</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'jobs'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">doc</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'List all job ids'</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">jobs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token known-class-name class-name">Array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">JobId</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">ComputeQueue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAllJobIds</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_redis</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_BQvU"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_quyK" aria-hidden="true"><svg class="copyButtonIcon_NfaR" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_UHcJ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>On the client</p><div class="language-javascript codeBlockContainer_FztV theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_csCg"><pre tabindex="0" class="prism-code language-javascript codeBlock_Qvym thin-scrollbar"><code class="codeBlockLines_GHGP"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//Server methods</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> defs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Macros</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getMethodDefinitions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">ServiceBatchCompute</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">def </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> defs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">CommanderTools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addCommand</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">program</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> def</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_BQvU"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_quyK" aria-hidden="true"><svg class="copyButtonIcon_NfaR" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_UHcJ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above code generates (at compile time) a function that creates a <a href="https://en.wikipedia.org/wiki/JSON-RPC" target="_blank" rel="noopener noreferrer">JSON-RPC</a> call to the remote server if the CLI command is called. E.g. calling the CLI client with the <strong>jobs</strong> sub-command:</p><div class="language-shell codeBlockContainer_FztV theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_csCg"><pre tabindex="0" class="prism-code language-shell codeBlock_Qvym thin-scrollbar"><code class="codeBlockLines_GHGP"><span class="token-line" style="color:#393A34"><span class="token plain">ccc </span><span class="token function" style="color:#d73a49">jobs</span><br></span></code></pre><div class="buttonGroup_BQvU"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_quyK" aria-hidden="true"><svg class="copyButtonIcon_NfaR" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_UHcJ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>creates the following JSON and sends it to the server (via http):</p><div class="language-javascript codeBlockContainer_FztV theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_csCg"><pre tabindex="0" class="prism-code language-javascript codeBlock_Qvym thin-scrollbar"><code class="codeBlockLines_GHGP"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">jsonrpc</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">"2.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"_"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"jobs"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">params</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_BQvU"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_quyK" aria-hidden="true"><svg class="copyButtonIcon_NfaR" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_UHcJ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The server maps the call to the correct function, calls the function, then sends the result back in the HTTP response. The CLI interacts with the server API, but it could easily be another server.</p><p>The important point is that new services have the corresponding CLI client commands <em>automatically</em> generated. There is no need to touch the client code ever again, and there is no chance that a typo will accidentally break client-server communication.</p><h3 class="anchor anchorWithStickyNavbar_DZnE" id="c82fb9fb390144bca575dfc8f12c6551">3) Code completion<a href="#c82fb9fb390144bca575dfc8f12c6551" class="hash-link" aria-label="Direct link to 3) Code completion" title="Direct link to 3) Code completion">​</a></h3><p>I just really like code completion. Code completion is handled by the Haxe compiler, so all text editors and IDEs can easily add sophisticated code completion.</p><p><img loading="lazy" src="data:image/png;base64,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" width="334" height="156" class="img_Era8"></p><h3 class="anchor anchorWithStickyNavbar_DZnE" id="4bb9b6ad68d04f49a1e1d7611abcba8d">4) Abstracts<a href="#4bb9b6ad68d04f49a1e1d7611abcba8d" class="hash-link" aria-label="Direct link to 4) Abstracts" title="Direct link to 4) Abstracts">​</a></h3><p>These are classes and data structures that do not exist at run-time, only at compile time. In Cloud-compute-cannon, they are used to maintain specific compile-checked enum types between the server and the database scripts.</p><p>The redis scripts are in Lua, which is a new Haxe target! However the Lua target is not yet mature, so the database scripts are written manually, and embedded as raw strings in Haxe classes. This has the advantage of some compile time checking of constants and abstract types.</p><p>The following is a <a href="http://haxe.org/manual/types-abstract-enum.html" target="_blank" rel="noopener noreferrer">Haxe abstract enum</a>. It only exists at compile time, at runtime the values are just strings.</p><div class="language-javascript codeBlockContainer_FztV theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_csCg"><pre tabindex="0" class="prism-code language-javascript codeBlock_Qvym thin-scrollbar"><code class="codeBlockLines_GHGP"><span class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token operator" style="color:#393A34">:</span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">abstract </span><span class="token function maybe-class-name" style="color:#d73a49">JobStatus</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token known-class-name class-name">String</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token maybe-class-name">Pending</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'pending'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token maybe-class-name">Working</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'working'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token maybe-class-name">Finalizing</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'finalizing'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> </span><span class="token maybe-class-name">Finished</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'finished'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_BQvU"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_quyK" aria-hidden="true"><svg class="copyButtonIcon_NfaR" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_UHcJ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>However, the values can be embedded in a Lua script:</p><div class="language-lua codeBlockContainer_FztV theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_csCg"><pre tabindex="0" class="prism-code language-lua codeBlock_Qvym thin-scrollbar"><code class="codeBlockLines_GHGP"><span class="token-line" style="color:#393A34"><span class="token plain">local status = "${JobStatus.Pending}"</span><br></span></code></pre><div class="buttonGroup_BQvU"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_quyK" aria-hidden="true"><svg class="copyButtonIcon_NfaR" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_UHcJ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And this Lua script is embedded in a Haxe class (this example is contrived for simplicity):</p><div class="language-javascript codeBlockContainer_FztV theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_csCg"><pre tabindex="0" class="prism-code language-javascript codeBlock_Qvym thin-scrollbar"><code class="codeBlockLines_GHGP"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> script </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'local status = "${JobStatus.Pending}"'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_BQvU"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_quyK" aria-hidden="true"><svg class="copyButtonIcon_NfaR" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_UHcJ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then if we change the JobStatus abstract, all the values are compile time checked. This means that it is impossible for a simple typo in a string value to result in a value being sent between the server and the database.</p><p>When the Lua target stabilizes, the scripts may get written in Haxe and compiled. This would allow better code re-use, and allow compile-time checking of the actual types and objects being created, stored, and send from within the database.</p><h3 class="anchor anchorWithStickyNavbar_DZnE" id="84f4acf04a7f43eba3481ae98c1cfa96">Conclusion<a href="#84f4acf04a7f43eba3481ae98c1cfa96" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h3><p>This demonstrates some of the power that the Haxe toolkit provides:</p><ul><li>Flexibility: write code for multiple platforms without losing the power of a compiler.</li><li>Future proofing: as new platforms become available, the Haxe toolkit can target them.</li><li>More robust code: compiler prevent simple errors, and make maintenance (e.g. refactoring) of large code bases much easier.</li><li>Performance: function inline may not available on the target platform itself (e.g. Javascript in Node.js).</li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Deno is part of the golden three]]></title>
            <link>https://evolvedeeptimecomplex.systems/blog/deno-and-tool-ecosystems</link>
            <guid>https://evolvedeeptimecomplex.systems/blog/deno-and-tool-ecosystems</guid>
            <pubDate>Wed, 12 Apr 2023 01:52:47 GMT</pubDate>
        </item>
        <item>
            <title><![CDATA[Docker and wasm]]></title>
            <link>https://evolvedeeptimecomplex.systems/blog/docker-wasm-web-containers</link>
            <guid>https://evolvedeeptimecomplex.systems/blog/docker-wasm-web-containers</guid>
            <pubDate>Wed, 12 Apr 2023 01:52:47 GMT</pubDate>
        </item>
        <item>
            <title><![CDATA[How this blog is automated]]></title>
            <link>https://evolvedeeptimecomplex.systems/blog/how-this-blog-is-automated</link>
            <guid>https://evolvedeeptimecomplex.systems/blog/how-this-blog-is-automated</guid>
            <pubDate>Wed, 12 Apr 2023 01:52:47 GMT</pubDate>
            <description><![CDATA[1. I write blog posts in notion, structured how I like]]></description>
            <content:encoded><![CDATA[<ol><li>I write blog posts in <a href="https://notion.so" target="_blank" rel="noopener noreferrer">notion</a>, structured how I like</li><li>Automatically ~15 minutes later the website + blog is generated from notion, using <a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer">docusaurus</a> + <a href="https://github.com/sillsdev/docu-notion" target="_blank" rel="noopener noreferrer">docu-notion</a>, and pushed to github pages</li><li><del>There’s nothing I actually needed to do except write</del></li></ol><p>That’s it. I just write. The rest is automated.</p><h3 class="anchor anchorWithStickyNavbar_DZnE" id="1900a1e531c64d3ab4896817eefc7eba">How it works<a href="#1900a1e531c64d3ab4896817eefc7eba" class="hash-link" aria-label="Direct link to How it works" title="Direct link to How it works">​</a></h3><p>Source: <a href="https://github.com/dionjwa/dionjwa.github.io" target="_blank" rel="noopener noreferrer">https://github.com/dionjwa/dionjwa.github.io</a></p><p>A github action runs a few scripts commands:</p><ol><li>Using <a href="https://github.com/sillsdev/docu-notion" target="_blank" rel="noopener noreferrer">docu-notion</a> (and a root notion page) the docusaurus blog markdown is generated from specified notion pages</li><li>The docusaurus website is built</li><li>Then deployed to github pages</li></ol><p>It’s otherwise tricky to find a set of tools for writing/publishing a blog+resume with the following requirements (for me):</p><ul><li>open source, or high data trust</li><li>able to output from notion. I’m too tired to convert to anything, like multiple publishing endpoints. I just want to write, and have everything be automated</li><li>but also look good</li><li>where i just write, and do absolutely nothing else. no saving, no publishing step.</li><li>but also everything is backed up, with full version history</li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Justfiles - universal command control]]></title>
            <link>https://evolvedeeptimecomplex.systems/blog/one-justfile-to-bind-them-all</link>
            <guid>https://evolvedeeptimecomplex.systems/blog/one-justfile-to-bind-them-all</guid>
            <pubDate>Wed, 12 Apr 2023 01:52:47 GMT</pubDate>
            <description><![CDATA[Just Words of Wisdom (To Myself)]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_DZnE" id="a660199f26954368939f6ff59ee255ae">Just Words of Wisdom (To Myself)<a href="#a660199f26954368939f6ff59ee255ae" class="hash-link" aria-label="Direct link to Just Words of Wisdom (To Myself)" title="Direct link to Just Words of Wisdom (To Myself)">​</a></h2><h3 class="anchor anchorWithStickyNavbar_DZnE" id="d2d23cebe20b4d158daa8400e3cdf9ac">Always include the full path of commands<a href="#d2d23cebe20b4d158daa8400e3cdf9ac" class="hash-link" aria-label="Direct link to Always include the full path of commands" title="Direct link to Always include the full path of commands">​</a></h3><p>If you document something with what <!-- -->&lt;<!-- -->command<!-- -->&gt;<!-- --> you should run, e.g.</p><div class="language-bash codeBlockContainer_FztV theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_csCg"><pre tabindex="0" class="prism-code language-bash codeBlock_Qvym thin-scrollbar"><code class="codeBlockLines_GHGP"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># And then you type: 'just &lt;command&gt;'</span><br></span></code></pre><div class="buttonGroup_BQvU"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_quyK" aria-hidden="true"><svg class="copyButtonIcon_NfaR" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_UHcJ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>but you are <code>&lt;/over/here&gt;</code> but you have to be <code>&lt;/somewhere/else&gt;</code> then please include the full path so there is never any doubt and you don’t have to go <code>fd</code>'ing: <code>'&lt;/be/specific&gt; just &lt;command&gt;'</code>. It doesn’t have to be this exact formula, but try to remove this kind of friction.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Publications]]></title>
            <link>https://evolvedeeptimecomplex.systems/blog/publications</link>
            <guid>https://evolvedeeptimecomplex.systems/blog/publications</guid>
            <pubDate>Wed, 12 Apr 2023 01:52:47 GMT</pubDate>
            <description><![CDATA[Academic Publications (2004 - 2008)]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_DZnE" id="academic-publications-2004---2008">Academic Publications (2004 - 2008)<a href="#academic-publications-2004---2008" class="hash-link" aria-label="Direct link to Academic Publications (2004 - 2008)" title="Direct link to Academic Publications (2004 - 2008)">​</a></h2><ul><li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2423361/" target="_blank" rel="noopener noreferrer">The look-ahead effect of phenotypic mutations.</a>. D. Whitehead, Claus Wilke, D. Vernazobres
and E. Bornberg-Bauer. <em>Biology Direct </em> (2008).</li><li><a href="http://www.blackwell-synergy.com/doi/abs/10.1111/j.1365-313X.2007.03052.x" target="_blank" rel="noopener noreferrer">The AtGenExpress global stress expression data set: Protocols, evaluation and model data analysis of UV-B light, drought and cold stress responses.</a> J. Kilian, D. Whitehead, J. Horak, D.
Wanke, S. Weinl, O. Batistic, C. D'Angelo, E. Bornberg-Bauer, J. Kudla and K. Harter. <em>Plant J</em> (2007).</li><li><a href="http://www.worldscibooks.com/lifesci/6459.html" target="_blank" rel="noopener noreferrer">Chapter 13: Evolution of Regulatory Networks, Systems Biology Applied to Toxicogenomics.</a> Amelie Veron, Dion Whitehead, et. el François Képès (ed.). <em>World Scientific</em> (2007).</li><li><a href="http://bieson.ub.uni-bielefeld.de/volltexte/2005/792" target="_blank" rel="noopener noreferrer">Reconstructing gene function and gene regulatory networks in prokaryotes.</a> Dion Whitehead. <em>PhD Thesis</em> (2005).</li><li><a href="http://www3.interscience.wiley.com/cgi-bin/abstract/110575170/ABSTRACT" target="_blank" rel="noopener noreferrer">Handbook of Toxicogenomics: Strategies and Applications 13: Systems Biology Applied to Toxicogenomics.</a> Klaus Prank, Matthias Hoechsmann, Bjoern Oleson, Thomas Schmidt, Leila Taher, Dion Whitehead, Jürgen Borlak (ed.). <em>John Wiley &amp; Sons</em> (2005).</li><li><a href="https://www.researchgate.net/publication/237005333_Evaluating_an_Evolutionary_Approach_for_Reconstructing_Gene_Regulatory_Networks" target="_blank" rel="noopener noreferrer">Evaluating an Evolutionary Approach for Reconstructing Gene Regulatory Networks.</a> Whitehead, D. and Skusa, A. and Kennedy, P.J. <em>Ninth International Conference on the Simulation and
Synthesis of Living Systems</em> (2004).</li></ul><h2 class="anchor anchorWithStickyNavbar_DZnE" id="academic-publications-2004---2008-1">Academic Publications (2004 - 2008)<a href="#academic-publications-2004---2008-1" class="hash-link" aria-label="Direct link to Academic Publications (2004 - 2008)" title="Direct link to Academic Publications (2004 - 2008)">​</a></h2><ul><li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2423361/" target="_blank" rel="noopener noreferrer">The look-ahead effect of phenotypic mutations.</a>. D. Whitehead, Claus Wilke, D. Vernazobres
and E. Bornberg-Bauer. <em>Biology Direct </em> (2008).</li><li><a href="http://www.blackwell-synergy.com/doi/abs/10.1111/j.1365-313X.2007.03052.x" target="_blank" rel="noopener noreferrer">The AtGenExpress global stress expression data set: Protocols, evaluation and model data analysis of UV-B light, drought and cold stress responses.</a> J. Kilian, D. Whitehead, J. Horak, D.
Wanke, S. Weinl, O. Batistic, C. D'Angelo, E. Bornberg-Bauer, J. Kudla and K. Harter. <em>Plant J</em> (2007).</li><li><a href="http://www.worldscibooks.com/lifesci/6459.html" target="_blank" rel="noopener noreferrer">Chapter 13: Evolution of Regulatory Networks, Systems Biology Applied to Toxicogenomics.</a> Amelie Veron, Dion Whitehead, et. el François Képès (ed.). <em>World Scientific</em> (2007).</li><li><a href="http://bieson.ub.uni-bielefeld.de/volltexte/2005/792" target="_blank" rel="noopener noreferrer">Reconstructing gene function and gene regulatory networks in prokaryotes.</a> Dion Whitehead. <em>PhD Thesis</em> (2005).</li><li><a href="http://www3.interscience.wiley.com/cgi-bin/abstract/110575170/ABSTRACT" target="_blank" rel="noopener noreferrer">Handbook of Toxicogenomics: Strategies and Applications 13: Systems Biology Applied to Toxicogenomics.</a> Klaus Prank, Matthias Hoechsmann, Bjoern Oleson, Thomas Schmidt, Leila Taher, Dion Whitehead, Jürgen Borlak (ed.). <em>John Wiley &amp; Sons</em> (2005).</li><li><a href="https://www.researchgate.net/publication/237005333_Evaluating_an_Evolutionary_Approach_for_Reconstructing_Gene_Regulatory_Networks" target="_blank" rel="noopener noreferrer">Evaluating an Evolutionary Approach for Reconstructing Gene Regulatory Networks.</a> Whitehead, D. and Skusa, A. and Kennedy, P.J. <em>Ninth International Conference on the Simulation and
Synthesis of Living Systems</em> (2004).</li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Entire Resume for Printing]]></title>
            <link>https://evolvedeeptimecomplex.systems/blog/resume-complete</link>
            <guid>https://evolvedeeptimecomplex.systems/blog/resume-complete</guid>
            <pubDate>Wed, 12 Apr 2023 01:52:47 GMT</pubDate>
            <description><![CDATA[Academic Publications (2004 - 2008)]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_DZnE" id="academic-publications-2004---2008">Academic Publications (2004 - 2008)<a href="#academic-publications-2004---2008" class="hash-link" aria-label="Direct link to Academic Publications (2004 - 2008)" title="Direct link to Academic Publications (2004 - 2008)">​</a></h2><ul><li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2423361/" target="_blank" rel="noopener noreferrer">The look-ahead effect of phenotypic mutations.</a>. D. Whitehead, Claus Wilke, D. Vernazobres
and E. Bornberg-Bauer. <em>Biology Direct </em> (2008).</li><li><a href="http://www.blackwell-synergy.com/doi/abs/10.1111/j.1365-313X.2007.03052.x" target="_blank" rel="noopener noreferrer">The AtGenExpress global stress expression data set: Protocols, evaluation and model data analysis of UV-B light, drought and cold stress responses.</a> J. Kilian, D. Whitehead, J. Horak, D.
Wanke, S. Weinl, O. Batistic, C. D'Angelo, E. Bornberg-Bauer, J. Kudla and K. Harter. <em>Plant J</em> (2007).</li><li><a href="http://www.worldscibooks.com/lifesci/6459.html" target="_blank" rel="noopener noreferrer">Chapter 13: Evolution of Regulatory Networks, Systems Biology Applied to Toxicogenomics.</a> Amelie Veron, Dion Whitehead, et. el François Képès (ed.). <em>World Scientific</em> (2007).</li><li><a href="http://bieson.ub.uni-bielefeld.de/volltexte/2005/792" target="_blank" rel="noopener noreferrer">Reconstructing gene function and gene regulatory networks in prokaryotes.</a> Dion Whitehead. <em>PhD Thesis</em> (2005).</li><li><a href="http://www3.interscience.wiley.com/cgi-bin/abstract/110575170/ABSTRACT" target="_blank" rel="noopener noreferrer">Handbook of Toxicogenomics: Strategies and Applications 13: Systems Biology Applied to Toxicogenomics.</a> Klaus Prank, Matthias Hoechsmann, Bjoern Oleson, Thomas Schmidt, Leila Taher, Dion Whitehead, Jürgen Borlak (ed.). <em>John Wiley &amp; Sons</em> (2005).</li><li><a href="https://www.researchgate.net/publication/237005333_Evaluating_an_Evolutionary_Approach_for_Reconstructing_Gene_Regulatory_Networks" target="_blank" rel="noopener noreferrer">Evaluating an Evolutionary Approach for Reconstructing Gene Regulatory Networks.</a> Whitehead, D. and Skusa, A. and Kennedy, P.J. <em>Ninth International Conference on the Simulation and
Synthesis of Living Systems</em> (2004).</li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Resume]]></title>
            <link>https://evolvedeeptimecomplex.systems/blog/resume</link>
            <guid>https://evolvedeeptimecomplex.systems/blog/resume</guid>
            <pubDate>Wed, 12 Apr 2023 01:52:47 GMT</pubDate>
        </item>
        <item>
            <title><![CDATA[The golden trifecta- justfiles, deno, and docker]]></title>
            <link>https://evolvedeeptimecomplex.systems/blog/the-golden-three-just-deno-docker</link>
            <guid>https://evolvedeeptimecomplex.systems/blog/the-golden-three-just-deno-docker</guid>
            <pubDate>Wed, 12 Apr 2023 01:52:47 GMT</pubDate>
        </item>
    </channel>
</rss>